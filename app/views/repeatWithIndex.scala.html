@(field:Field, min:Int=1, add:Int=0)(f: (Field, Int) => Html)
@{
  (0 until math.max(if (field.indexes.isEmpty) 0 else field.indexes.max + 1 + add, min)).map(i => f(field("[" + i + "]"),i))
}